{% extends "base.html" %}

<title>{% block title %}{{ page.title }} - {{ config.title }}{% endblock title %}</title>

{% block content %}

<div class="dive">
    <h2 class="title-blog-post">🤿 {{ page.title }}</h2>

    <div>
        {% for asset in page.assets -%}
          {%- if asset is matching("[.](jpg|jpeg|png)$") -%}
            <a href="{{ get_url(path=asset) }}" target="_blank">
              <img src="{{ get_url(path=asset) }}" />
            </a>
          {%- endif %}
        {%- endfor %}
    </div>

    <div class="dive-summary">
    <p>🧑‍🤝‍🧑 Sinéad was my dive buddy</p>
    <p>📅 We dove on {{ page.date | date(format="%A %Y-%m-%d") }}</p>
    <p>🏝️ We dove at {{ page.extra.site }}</p>
    <p>👀 We could see for about {{ page.extra.visibility }} metres</p>
    <p>⏱️ We were below the surface for {{ page.extra.duration }} minutes</p>
    <p>📐 We swam at a max depth of {{ page.extra.depth }} metres</p>
    <p>🛒 We dove with <a href="{{ page.extra.dive_centre_website }}" title="{{ page.extra.dive_centre }}">{{ page.extra.dive_centre }}</a></p>
    
    <h3>Notes</h3>
    <p>{{ page.content | safe }}</p>
    </div>
    
</div>

{% endblock content %}

{% include "footer.html" %}

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiZHJubWVlaGFuIiwiYSI6ImNscnlvaWJycDFqd20yaW82NGp0aHhpcjYifQ.3l9s3Mp0beBrQLWdtkv00w';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/dark-v11',
        center: [99.8138283, 10.1134533],
        zoom: 8
    });
    const marker = new mapboxgl.Marker({ color: 'blue'})
    .setLngLat(99.8138283, 10.1134533)
    .addTo(map);
</script>
